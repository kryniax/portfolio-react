import React, { useEffect } from 'react'
import { AnimatePresence, motion } from 'framer-motion'


const Loader = (props) => {

    const pathVariants = {
        hidden: { 
            pathLength: 0, 
            fill: "rgba(229, 231, 235, 0)",
        },
        visible: { 
            pathLength: 1, 
            fill: "rgba(229, 231, 235, 1)",
        },
        exit: {
            scale: 2,
        }
      };

      const transition = {
        default: {
            duration: 3,
            ease: "easeInOut"
        },
        fill: {
            delay: 2,
            duration: 1, 
            ease: [1, 0, 0.8, 1] 
        },
      }

      useEffect(() => {
        setTimeout(() => {
          props.setIsLoading();
        }, 1800);
      }, [props.setIsLoading]);

  return (
    <AnimatePresence>
        {props.isLoading && (
        <motion.section
        exit={{ scale: 0 }}
        key="exit"
        transition={{
        duration: .5,
        delay: .9,
        ease: "easeInOut",
        }} 
        className='w-full h-[100vh] flex justify-center items-center'>
        <motion.svg version="1.0" xmlns="http://www.w3.org/2000/svg"
            width="668.000000pt" height="556.000000pt" viewBox="0 0 668.000000 556.000000"
            preserveAspectRatio="xMidYMid meet" className="h-96"
        >
            <title>Logo</title>
            <g transform="translate(0.000000,556.000000) scale(0.100000,-0.100000)"
                fill="#e5e7eb" stroke="none"
            >
                <motion.path 
                    variants={pathVariants}
                    transition={transition}
                    initial="hidden"
                    animate="visible"
                    stroke="#e5e7eb"
                    strokeWidth="6"
                    d="M2008 5449 c-20 -4 -50 -17 -67 -27 -31 -19 -226 -206 -308 -295 -61
                    -67 -57 -127 8 -127 21 0 65 37 212 180 l186 180 93 0 93 0 -315 -315 c-199
                    -199 -321 -328 -332 -352 -16 -35 -17 -115 -18 -1066 0 -909 2 -1033 15 -1062
                    28 -57 93 -71 157 -32 20 12 378 359 795 772 417 412 866 856 998 985 132 130
                    430 423 662 653 l423 417 174 0 c96 0 177 -4 180 -8 5 -8 -576 -591 -1069
                    -1072 -214 -209 -370 -363 -1235 -1216 -179 -177 -423 -417 -543 -535 -190
                    -187 -217 -218 -217 -245 0 -38 16 -54 54 -54 36 0 -20 -53 1212 1163 l221
                    219 285 -314 c621 -684 838 -930 838 -951 -1 -21 -37 -91 -60 -115 -31 -33
                    -62 -42 -139 -42 -74 0 -95 -12 -89 -51 2 -12 15 -31 30 -42 33 -24 135 -27
                    189 -4 50 21 116 82 141 130 l20 40 53 -59 c68 -77 117 -110 182 -124 156 -34
                    293 81 293 245 0 79 -28 138 -114 240 -82 95 -663 744 -941 1049 -260 285
                    -315 347 -315 356 0 4 170 173 378 376 639 625 863 847 903 897 67 84 49 166
                    -44 202 -37 14 -97 16 -497 13 -533 -4 -497 4 -633 -125 -121 -114 -1275
                    -1250 -1774 -1747 l-433 -431 0 192 0 191 387 384 c1152 1140 1043 1029 1043
                    1071 0 30 -5 40 -25 49 -16 7 -32 8 -45 2 -11 -5 -322 -308 -690 -673 l-670
                    -663 2 193 3 194 587 578 c323 318 597 594 609 613 16 26 20 45 16 71 -8 44
                    -22 62 -72 84 -36 17 -72 18 -400 18 -198 -1 -377 -5 -397 -10z m752 -97 c0
                    -6 -460 -466 -922 -922 l-178 -175 0 189 0 189 158 156 c87 86 253 249 368
                    364 l210 207 182 0 c100 0 182 -3 182 -8z m1320 -344 c-195 -193 -465 -460
                    -600 -592 -135 -133 -596 -587 -1024 -1011 -428 -423 -782 -771 -787 -773 -5
                    -2 -9 77 -9 176 l0 180 453 449 c485 481 1057 1045 1093 1078 12 11 183 180
                    380 375 198 196 387 381 421 413 l62 57 183 0 183 -1 -355 -351z m-289 -1265
                    c228 -252 421 -466 598 -664 656 -730 631 -700 631 -758 0 -68 -63 -131 -131
                    -131 -51 0 -94 40 -337 314 -330 372 -503 564 -801 890 -135 148 -251 276
                    -258 285 -10 15 2 31 75 109 48 50 90 91 93 92 3 0 62 -62 130 -137z"
                />
                <motion.path 
                    variants={pathVariants}
                    transition={transition}
                    initial="hidden"
                    animate="visible"
                    stroke="#e5e7eb"
                    strokeWidth="6"
                    d="M3314 3242 c-6 -4 -16 -17 -23 -29 -16 -31 -5 -49 83 -143 116 -123
                    619 -681 644 -714 12 -16 22 -40 22 -53 0 -37 -27 -81 -62 -99 -43 -22 -135
                    -15 -172 13 -15 12 -92 95 -173 185 -222 247 -440 482 -460 494 -32 19 -78 25
                    -109 14 -16 -6 -190 -171 -389 -369 -283 -281 -367 -359 -392 -364 -37 -7 -45
                    -30 -26 -69 17 -35 59 -44 109 -23 27 11 146 123 390 366 l350 350 293 -326
                    c161 -180 311 -339 332 -355 50 -36 126 -54 198 -47 110 10 187 72 217 174 29
                    98 5 152 -138 309 -40 44 -181 199 -312 345 -131 145 -256 283 -278 307 -38
                    41 -75 54 -104 34z"
                />
            </g>
        </motion.svg>
    </motion.section>
        )}
    </AnimatePresence>
  )
}

export default Loader